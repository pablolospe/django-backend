{% extends "web/base.html" %}
{% load static %}

{% block titulo %}pedido{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'web/style/orderForm.css' %}">
{% endblock %}

{% block main %}
<h1 class="centered">Hacer pedido</h1>
<br />
{% if form.non_field_errors %}
<div class="error">
    {% for error in form.non_field_errors %}
    <p>{{ error }}</p>
    {% endfor %}
</div>
<br />
{% endif %}

<form method="POST" action="{% url 'orderForm' %}">
    {% csrf_token %}

    <!-- Renderizamos los productos en una tabla personalizada -->
    <table class="table">
        <tr>
            <th></th>
            <th>Producto</th>
            <th>Precio</th>
            <th></th>
        </tr>
        {% for product in products %}
        <tr>
            <td><input type="checkbox" name="products" value="{{ product.id }}"></td>
            <td>{{ product.name }}</td>
            <td>{{ product.price|floatformat:2 }}</td>
            <td>
                <img src="{{ product.description }}" alt="{{ product.description }}"
                    style="height: 3rem; border-radius: 2rem; width: 3rem; margin-left: 2rem;">
            </td>
        </tr>
        {% endfor %}
    </table>

    <br>
    <input class="hover-effect" type="submit" value="Enviar">
</form>
{% endblock %}